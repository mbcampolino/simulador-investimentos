"use strict";(self.webpackChunksimulador_investimentos=self.webpackChunksimulador_investimentos||[]).push([[592],{665:(T,c,o)=>{o.d(c,{h:()=>h});var n=o(4946),l=o(9862);let h=(()=>{class a{constructor(t){this.httpClient=t,this.total=0,this.lastMonthTax=0,this.currentSelic=13.75,this.investimentsByMonth=!1,this.model={initialValue:1e5,dueDate:1,dueDateType:"ano",taxType:"ano",taxValue:this.currentSelic,monthlyValue:1e3},this.historicData=[],this.getApiSelic()}taxesByMonth(){return"m\xeas"==this.model.taxType}dueDateTypeByMonth(){return"m\xeas"==this.model.dueDateType}calcFixedInvestment(){this.historicData=[];var t,i;t="ano"==this.model.dueDateType?12*this.model.dueDate:this.model.dueDate,i="ano"==this.model.taxType?this.model.taxValue/12:this.model.taxValue;for(var e=0;e<t+1;e++)if(0===e)this.historicData.push({currentMonth:0,currentTax:0,currentTotalWithTax:this.model.initialValue,currentTotalWithoutTax:this.model.initialValue,totalTax:0});else{var s=this.historicData[e-1].currentTotalWithTax/100*i;this.historicData.push({currentMonth:e,currentTax:s,currentTotalWithTax:this.historicData[e-1].currentTotalWithTax+s+this.model.monthlyValue,currentTotalWithoutTax:this.historicData[e-1].currentTotalWithoutTax+this.model.monthlyValue,totalTax:s+this.historicData[e-1].totalTax})}console.log(this.historicData)}formatValue(t,i=!0){return i?t.toLocaleString("pt-br",{style:"currency",currency:"BRL",minimumFractionDigits:2,currencyDisplay:"narrowSymbol"}):new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"code"}).format(t).replace("EUR","").trim()}getApiSelic(){return this.httpClient.get("https://www.bcb.gov.br/api/servico/sitebcb/historicotaxasjuros",{headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"}}).subscribe(r=>{console.log(r.conteudo[0].MetaSelic),this.currentSelic=r.conteudo[0].MetaSelic})}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(l.eN))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);